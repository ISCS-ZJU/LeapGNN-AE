INFO Sun, 26 Feb 2023 14:19:43 dgl_default_sampling_simulate.py 274 : ngpus_per_trainer: 1
INFO Sun, 26 Feb 2023 14:19:43 dgl_default_sampling_simulate.py 39 : Total number of trainers: 4
INFO Sun, 26 Feb 2023 14:19:43 dgl_default_sampling_simulate.py 55 : Client Args: Namespace(dataset='./dist/repgnn_data/ogbn_arxiv128/', sampling='10', hidden_size=256, n_classes=60, batch_size=256, dropout=0.2, lr=0.03, weight_decay=0, model_name='gcn', epoch=1, num_worker=1, cache_size=0, seed=None, log=False, world_size=4, ngpus_per_node=1, featdim=128)
INFO Sun, 26 Feb 2023 14:19:43 dgl_default_sampling_simulate.py 68 : metis分图已经完成
INFO Sun, 26 Feb 2023 14:19:44 dgl_default_sampling_simulate.py 91 : fg_train_nid: 110072 ntrain_per_GPU: 27518
INFO Sun, 26 Feb 2023 14:19:44 dgl_default_sampling_simulate.py 91 : fg_train_nid: 110072 ntrain_per_GPU: 27518
INFO Sun, 26 Feb 2023 14:19:44 dgl_default_sampling_simulate.py 91 : fg_train_nid: 110072 ntrain_per_GPU: 27518
INFO Sun, 26 Feb 2023 14:19:44 dgl_default_sampling_simulate.py 91 : fg_train_nid: 110072 ntrain_per_GPU: 27518
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 198 : => cur_epoch 0 finished on rank 3
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 199 : ==================== | rank=3,epoch=0 采样node信息输出 | ====================
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 200 : rank=3, number of training batches: 108
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 201 : rank=3, the number of nodes for each tree spand by batch: [3200, 3795, 3957, 3309, 3779, 3650, 3851, 3844, 3517, 4343, 4208, 3754, 3618, 3334, 4122, 3467, 3945, 3710, 3586, 3835, 3062, 3850, 3809, 3613, 4067, 3696, 3846, 3885, 3773, 3768, 4421, 3582, 3759, 4058, 3692, 4056, 4003, 3811, 3754, 3634, 4252, 3742, 4006, 4513, 3898, 3614, 4504, 3793, 3930, 3777, 3994, 3978, 3612, 4093, 3980, 4265, 4206, 3369, 3713, 4228, 4320, 3785, 3661, 4429, 4557, 3405, 3979, 4125, 3795, 4149, 3910, 4392, 3589, 3509, 3652, 3689, 4129, 3363, 3635, 4002, 2835, 3582, 3753, 3777, 4241, 3757, 3380, 3918, 3608, 3763, 3398, 3582, 4074, 3804, 3881, 3568, 3835, 4063, 4079, 3525, 3741, 3439, 4209, 3954, 4029, 4083, 3997, 2145], total nodes: 412525
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 202 : rank=3, the number of nodes hits on other trainers: [135899, 98815, 81415, 0]
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 204 : ==================== | rank=3, total_epoch=1 naive模型迁移方式的数据传输量 | ====================
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 205 : rank=3, each block model&opt size transfer: [47087568, 47087568], total model&opt size transfer: 94175136
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 206 : rank=3, each block aggr size transfer: [20603008, 11816192], total aggr size transfer: 32419200
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 207 : rank=3, each nf comb size transfer: [486144, 574464, 597632, 500608, 573824, 550912, 583296, 580864, 531840, 660736, 638720, 568832, 547584, 507520, 618368, 518528, 596992, 562048, 539392, 584064, 458240, 581376, 577152, 548480, 614784, 561024, 579328, 586752, 571520, 567552, 664064, 542464, 570496, 610816, 559104, 609408, 602752, 577408, 564736, 548736, 640512, 563200, 606592, 679424, 587904, 545280, 681728, 576128, 597120, 570240, 601472, 608384, 546176, 625152, 603392, 643328, 633600, 510208, 560000, 637440, 655872, 571904, 555520, 666368, 686208, 521472, 598912, 625152, 576640, 622976, 592640, 665344, 540416, 529280, 549888, 557056, 627328, 509056, 551040, 608000, 431488, 545920, 566400, 569472, 641920, 569984, 512000, 594432, 549760, 571520, 516224, 543232, 615168, 575872, 592000, 536704, 579328, 610432, 618112, 530048, 566528, 519808, 635904, 600064, 605952, 615296, 606592, 323328], total comb size transfer: 62390400
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 208 : rank=3, each nf actv size transfer: [218624, 242944, 247808, 219648, 245760, 232960, 246272, 243200, 228864, 275200, 265728, 242176, 234496, 227072, 247040, 215040, 249600, 239872, 226304, 251904, 198144, 242688, 244736, 237568, 253952, 241408, 239616, 244480, 242688, 236032, 261888, 233472, 244224, 248320, 238592, 246016, 246272, 244736, 233984, 232704, 258048, 233984, 253184, 269056, 243456, 230912, 275968, 246784, 253696, 239104, 246016, 263936, 233216, 268032, 253440, 260352, 256000, 223488, 235008, 258048, 271360, 240384, 239360, 264448, 271360, 236800, 244736, 259840, 247296, 249344, 249856, 271872, 227584, 225792, 230400, 235264, 263168, 222720, 237056, 257024, 202752, 240384, 237568, 237568, 263680, 243712, 224256, 251392, 241408, 245248, 228096, 235008, 252928, 243456, 256000, 225536, 242432, 246272, 257536, 223232, 240896, 224768, 259840, 253440, 246016, 250880, 255488, 129792], total actv size transfer: 26219008
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 209 : rank=3, total data transfer: 215203744
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 198 : => cur_epoch 0 finished on rank 2
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 199 : ==================== | rank=2,epoch=0 采样node信息输出 | ====================
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 200 : rank=2, number of training batches: 108
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 201 : rank=2, the number of nodes for each tree spand by batch: [3521, 3678, 3575, 3707, 4109, 3924, 3878, 4342, 4038, 3962, 3478, 3930, 3668, 3883, 3698, 3490, 3665, 4282, 3682, 3749, 3845, 3394, 3758, 3632, 4453, 3960, 3792, 3616, 4028, 3595, 3847, 4255, 3818, 3568, 3799, 3852, 3399, 4181, 3743, 4400, 3770, 4139, 4000, 3656, 3119, 3438, 4237, 4131, 3389, 3802, 3679, 3583, 3684, 3656, 3894, 3974, 3877, 3867, 3650, 4329, 3951, 3897, 3481, 3798, 3387, 3798, 3635, 3712, 3405, 3584, 3967, 3340, 4354, 3521, 3898, 3782, 3489, 4050, 4047, 3687, 3592, 3531, 3802, 3792, 3766, 3991, 3845, 3862, 3884, 4139, 3905, 4463, 3735, 3199, 3833, 4082, 3688, 4419, 3831, 3485, 4054, 3470, 3726, 4398, 3959, 3569, 3556, 1904], total nodes: 409331
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 202 : rank=2, the number of nodes hits on other trainers: [136823, 98015, 0, 94316]
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 204 : ==================== | rank=2, total_epoch=1 naive模型迁移方式的数据传输量 | ====================
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 205 : rank=2, each block model&opt size transfer: [47087568, 47087568], total model&opt size transfer: 94175136
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 206 : rank=2, each block aggr size transfer: [20919936, 11515648], total aggr size transfer: 32435584
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 207 : rank=2, each nf comb size transfer: [530688, 552704, 542336, 563456, 620288, 596352, 582016, 658176, 608256, 597248, 522752, 592256, 555520, 583296, 559488, 523520, 556416, 655232, 559872, 568960, 585472, 512000, 571264, 552448, 675328, 602112, 575616, 549504, 609536, 545152, 579456, 642432, 579840, 536448, 574336, 584960, 509312, 631168, 561152, 667520, 563072, 626432, 611840, 547712, 469632, 517632, 642048, 623360, 514944, 572544, 552320, 541568, 551552, 553984, 594176, 601728, 590208, 583808, 550016, 662272, 597760, 592768, 524160, 574208, 516864, 579456, 552192, 560768, 513280, 544256, 599040, 504448, 657792, 530816, 591488, 570240, 530048, 617344, 603392, 556160, 534144, 530560, 579584, 571136, 565760, 608128, 580608, 581120, 589184, 623616, 591744, 674432, 567424, 482176, 580992, 616192, 558720, 664064, 577152, 528000, 608256, 526592, 566272, 665344, 600320, 541952, 542848, 286720], total comb size transfer: 61904256
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 208 : rank=2, each nf actv size transfer: [225536, 229376, 235008, 243456, 254208, 253696, 236800, 270336, 248320, 245760, 220672, 243968, 237568, 238080, 237824, 219136, 240128, 279808, 242688, 243712, 252160, 220672, 246016, 240640, 276224, 256000, 246016, 238848, 253440, 235520, 239616, 261120, 247808, 225024, 241664, 249344, 214016, 257536, 229632, 274176, 226560, 258816, 265216, 225024, 206336, 220672, 264960, 254720, 227840, 237312, 228352, 231424, 225536, 237568, 257024, 251648, 253440, 243200, 231168, 281856, 249600, 253440, 222720, 241664, 232192, 252160, 239360, 236800, 220416, 236544, 248064, 219392, 266496, 225792, 250624, 237824, 232448, 263424, 236288, 233984, 214272, 222720, 251392, 237056, 232960, 260096, 242432, 239104, 249600, 253184, 249344, 271872, 244224, 210944, 246272, 252928, 238848, 262400, 239104, 229376, 244224, 230400, 244224, 270336, 252672, 235776, 240896, 118272], total actv size transfer: 26064384
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 209 : rank=2, total data transfer: 214579360
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 198 : => cur_epoch 0 finished on rank 0
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 199 : ==================== | rank=0,epoch=0 采样node信息输出 | ====================
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 200 : rank=0, number of training batches: 108
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 201 : rank=0, the number of nodes for each tree spand by batch: [4466, 3861, 3208, 3947, 3993, 3889, 3556, 3663, 3530, 4144, 3496, 4268, 3998, 4050, 3236, 3595, 4163, 3775, 3718, 4203, 3340, 3650, 3637, 3919, 3889, 3445, 4159, 3952, 4472, 3733, 4123, 4288, 3856, 3885, 3812, 3843, 3411, 3537, 3783, 3980, 4270, 3473, 3806, 3801, 4003, 4070, 3835, 4133, 3634, 3721, 4016, 3536, 3896, 3615, 3822, 3740, 3607, 3822, 3818, 3706, 4222, 3894, 4118, 4059, 4098, 3544, 3961, 3839, 3741, 3642, 3759, 3930, 3991, 3562, 3611, 3759, 3556, 3778, 3836, 3539, 3410, 3721, 4311, 3947, 3756, 3719, 3930, 3327, 3265, 4178, 3377, 3926, 3951, 3740, 3438, 4150, 3757, 3956, 3581, 3808, 3692, 4239, 3641, 3844, 3920, 4189, 3354, 1606], total nodes: 409969
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 202 : rank=0, the number of nodes hits on other trainers: [0, 97371, 80897, 96860]
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 204 : ==================== | rank=0, total_epoch=1 naive模型迁移方式的数据传输量 | ====================
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 205 : rank=0, each block model&opt size transfer: [47087568, 47087568], total model&opt size transfer: 94175136
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 206 : rank=0, each block aggr size transfer: [21453056, 11405312], total aggr size transfer: 32858368
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 207 : rank=0, each nf comb size transfer: [673152, 583040, 488192, 602752, 606080, 586880, 538368, 553600, 534144, 621312, 534016, 649216, 607488, 611456, 490752, 542208, 631680, 569600, 559360, 643328, 507392, 554368, 553856, 594048, 587904, 522624, 634496, 598272, 671104, 559104, 627584, 646528, 585600, 587904, 579840, 582656, 515456, 537728, 566272, 601984, 640896, 522112, 576512, 573952, 603648, 611072, 576896, 626944, 543360, 565760, 603520, 532608, 590336, 545792, 580352, 569472, 544128, 579328, 577792, 563840, 641408, 586496, 623232, 615040, 622720, 538624, 601728, 584064, 570112, 550272, 566144, 594176, 600192, 535936, 547584, 567296, 541312, 571648, 580224, 539904, 517248, 560000, 646528, 601344, 572928, 559872, 589440, 504576, 495616, 624256, 506752, 589952, 594944, 565504, 517376, 626816, 567424, 593792, 544896, 579456, 556672, 641280, 549376, 582400, 591104, 638080, 505088, 243584], total comb size transfer: 62014080
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 208 : rank=0, each nf actv size transfer: [268544, 243200, 220672, 260608, 255488, 243712, 231936, 235008, 230144, 247296, 238592, 271360, 257024, 251648, 218624, 229632, 263168, 238336, 232448, 276224, 225280, 239872, 242176, 250368, 245760, 228864, 269824, 250368, 262912, 228096, 265216, 260864, 249600, 246784, 249344, 247040, 223232, 235520, 229632, 250624, 254208, 220672, 244224, 240384, 248064, 245760, 237568, 261376, 221952, 244480, 244480, 225536, 248832, 231680, 247808, 247040, 230400, 245760, 243712, 244480, 267520, 241664, 257792, 256512, 261888, 235520, 254976, 250880, 248064, 233728, 235520, 247808, 244224, 225536, 236288, 237824, 237824, 241664, 243968, 239360, 227072, 232960, 254976, 257792, 249856, 233216, 238336, 222976, 220928, 244480, 214528, 240384, 243968, 239104, 220160, 256768, 238592, 240384, 238592, 249600, 233728, 262912, 232192, 246272, 244224, 269312, 217088, 108288], total actv size transfer: 26120704
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 209 : rank=0, total data transfer: 215168288
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 198 : => cur_epoch 0 finished on rank 1
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 199 : ==================== | rank=1,epoch=0 采样node信息输出 | ====================
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 200 : rank=1, number of training batches: 108
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 201 : rank=1, the number of nodes for each tree spand by batch: [3725, 3724, 4106, 3231, 3961, 4143, 3921, 3818, 3693, 4230, 3603, 3662, 4069, 3615, 3176, 3447, 3676, 3323, 3514, 4292, 3531, 4114, 3055, 3594, 4070, 3536, 3717, 3548, 4038, 4379, 3668, 3986, 4240, 3522, 3795, 3651, 3686, 3924, 3973, 3749, 4463, 4334, 3753, 3430, 3873, 3868, 4159, 3635, 3698, 3430, 3752, 4002, 3609, 3794, 3507, 3996, 3109, 4198, 3886, 3668, 3918, 3755, 3669, 3585, 3646, 3883, 3703, 4124, 3453, 3820, 3685, 3709, 3463, 3948, 4014, 3440, 3396, 3584, 4231, 3547, 3411, 3752, 3996, 4012, 4196, 3767, 4291, 3761, 3439, 4052, 3492, 3929, 3267, 3551, 3475, 3882, 4116, 3586, 3997, 3706, 3750, 4433, 4289, 3513, 3677, 3731, 4292, 2285], total nodes: 407090
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 202 : rank=1, the number of nodes hits on other trainers: [133709, 0, 80396, 95185]
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 204 : ==================== | rank=1, total_epoch=1 naive模型迁移方式的数据传输量 | ====================
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 205 : rank=1, each block model&opt size transfer: [47087568, 47087568], total model&opt size transfer: 94175136
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 206 : rank=1, each block aggr size transfer: [19862912, 11805184], total aggr size transfer: 31668096
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 207 : rank=1, each nf comb size transfer: [568832, 563456, 621696, 486144, 606848, 625408, 592256, 578304, 561536, 639616, 548224, 552832, 610560, 544896, 479360, 525824, 556288, 501504, 535552, 651520, 536064, 618240, 461696, 547712, 618112, 531584, 560128, 537216, 609280, 657536, 556160, 601472, 638208, 533632, 576000, 553728, 556160, 588032, 607360, 570112, 671232, 654976, 570368, 519168, 591744, 584448, 629760, 544000, 561152, 520064, 566528, 599296, 548352, 571776, 523136, 604800, 468992, 633856, 584192, 560640, 592128, 565120, 551040, 543488, 554496, 587776, 558592, 623360, 520192, 576256, 562432, 564608, 523520, 598272, 607872, 522112, 513280, 543104, 639744, 531968, 519168, 567680, 599296, 605696, 633088, 570880, 652672, 566784, 522368, 607872, 528640, 594944, 492544, 539136, 529024, 593024, 625280, 543616, 607104, 556416, 567808, 665088, 647808, 530048, 552704, 565632, 645888, 340992], total comb size transfer: 61568128
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 208 : rank=1, each nf actv size transfer: [249600, 239104, 257792, 210688, 265216, 255744, 246272, 244736, 243200, 261888, 239616, 233728, 244992, 229888, 211200, 234752, 237056, 217856, 237056, 269824, 233728, 248832, 206848, 240896, 259840, 223488, 234240, 231680, 250368, 259584, 238848, 248064, 256512, 231168, 246016, 238336, 234240, 237056, 263168, 246016, 265472, 265984, 245504, 225792, 257536, 244224, 260352, 222976, 241152, 227584, 238080, 239616, 238336, 237824, 214016, 252160, 207616, 258560, 239104, 247808, 246784, 234496, 228352, 234752, 241152, 247040, 234752, 256512, 221952, 240128, 247040, 245248, 226048, 251392, 253696, 229120, 222720, 234240, 261888, 221440, 230656, 240384, 241152, 249856, 257536, 242944, 272384, 236288, 229888, 243968, 228864, 249600, 214272, 234752, 233984, 257792, 262400, 234752, 256512, 229632, 241152, 260864, 263168, 226304, 229632, 241664, 258560, 129280], total actv size transfer: 25965824
INFO Sun, 26 Feb 2023 14:19:46 dgl_default_sampling_simulate.py 209 : rank=1, total data transfer: 213377184
