INFO Sun, 26 Feb 2023 14:32:51 dgl_default_sampling_simulate.py 274 : ngpus_per_trainer: 1
INFO Sun, 26 Feb 2023 14:32:51 dgl_default_sampling_simulate.py 39 : Total number of trainers: 4
INFO Sun, 26 Feb 2023 14:32:51 dgl_default_sampling_simulate.py 55 : Client Args: Namespace(dataset='./dist/repgnn_data/ogbn_arxiv128/', sampling='10', hidden_size=256, n_classes=60, batch_size=256, dropout=0.2, lr=0.03, weight_decay=0, model_name='graphsage', epoch=1, num_worker=1, cache_size=0, seed=None, log=False, world_size=4, ngpus_per_node=1, featdim=128)
INFO Sun, 26 Feb 2023 14:32:51 dgl_default_sampling_simulate.py 68 : metis分图已经完成
INFO Sun, 26 Feb 2023 14:32:51 dgl_default_sampling_simulate.py 91 : fg_train_nid: 110072 ntrain_per_GPU: 27518
INFO Sun, 26 Feb 2023 14:32:51 dgl_default_sampling_simulate.py 91 : fg_train_nid: 110072 ntrain_per_GPU: 27518
INFO Sun, 26 Feb 2023 14:32:51 dgl_default_sampling_simulate.py 91 : fg_train_nid: 110072 ntrain_per_GPU: 27518
INFO Sun, 26 Feb 2023 14:32:51 dgl_default_sampling_simulate.py 91 : fg_train_nid: 110072 ntrain_per_GPU: 27518
INFO Sun, 26 Feb 2023 14:34:00 dgl_default_sampling_simulate.py 198 : => cur_epoch 0 finished on rank 2
INFO Sun, 26 Feb 2023 14:34:00 dgl_default_sampling_simulate.py 199 : ==================== | rank=2,epoch=0 采样node信息输出 | ====================
INFO Sun, 26 Feb 2023 14:34:00 dgl_default_sampling_simulate.py 200 : rank=2, number of training batches: 108
INFO Sun, 26 Feb 2023 14:34:00 dgl_default_sampling_simulate.py 201 : rank=2, the number of nodes for each tree spand by batch: [3790, 3499, 3315, 3541, 3453, 3697, 3632, 4638, 3977, 3601, 3476, 3557, 4567, 4219, 3438, 3917, 4172, 4258, 3552, 4049, 3405, 3306, 3412, 3885, 4276, 4063, 3628, 3721, 3868, 4329, 4007, 4041, 3656, 4295, 3338, 3529, 3719, 3775, 3903, 3190, 4160, 3574, 3773, 3437, 4023, 4134, 3966, 3746, 3899, 3721, 4104, 3453, 4073, 3616, 4076, 3340, 4001, 4098, 3778, 3737, 3915, 3210, 3846, 3944, 3485, 3986, 3773, 3498, 3304, 3918, 3771, 3545, 4020, 4231, 4230, 3541, 4136, 4220, 3602, 3585, 4243, 4097, 3574, 4295, 3622, 4025, 3709, 3951, 4153, 3698, 3526, 3579, 4043, 3598, 3129, 3315, 3374, 3644, 3913, 3406, 3596, 4379, 3579, 4756, 3470, 4175, 3867, 1925], total nodes: 408804
INFO Sun, 26 Feb 2023 14:34:00 dgl_default_sampling_simulate.py 202 : rank=2, the number of nodes hits on other trainers: [136596, 98107, 0, 93855]
INFO Sun, 26 Feb 2023 14:34:00 dgl_default_sampling_simulate.py 204 : ==================== | rank=2, total_epoch=1 naive模型迁移方式的数据传输量 | ====================
INFO Sun, 26 Feb 2023 14:34:00 dgl_default_sampling_simulate.py 205 : rank=2, each block model&opt size transfer: [124034976, 124034976], total model&opt size transfer: 248069952
INFO Sun, 26 Feb 2023 14:34:00 dgl_default_sampling_simulate.py 206 : rank=2, each block aggr size transfer: [20087040, 11685888], total aggr size transfer: 31772928
INFO Sun, 26 Feb 2023 14:34:00 dgl_default_sampling_simulate.py 207 : rank=2, each nf comb size transfer: [574336, 528256, 500736, 542080, 519040, 558208, 549376, 701824, 600064, 542720, 530560, 536832, 686720, 639488, 522752, 591872, 631168, 643968, 539904, 609152, 517504, 499712, 514176, 590080, 648448, 615552, 549760, 556672, 582912, 655104, 601216, 611712, 549376, 653184, 508800, 540032, 563712, 569984, 587520, 483968, 630912, 545024, 572032, 518400, 608896, 626560, 598144, 564480, 590336, 560640, 621568, 519424, 615936, 549760, 613760, 505856, 608768, 616064, 573312, 563456, 590720, 484992, 586368, 595712, 524032, 605824, 573440, 526336, 502784, 594048, 568320, 534016, 608256, 642304, 639616, 535168, 628096, 637952, 542976, 538880, 641280, 618496, 539776, 649600, 544768, 608384, 561792, 595584, 626304, 558848, 532352, 537856, 608512, 544512, 474624, 503424, 509184, 548352, 595072, 517760, 544640, 663808, 544640, 723072, 526208, 627712, 582016, 292224], total comb size transfer: 61832448
INFO Sun, 26 Feb 2023 14:34:00 dgl_default_sampling_simulate.py 208 : rank=2, each nf actv size transfer: [487936, 452608, 436736, 486400, 439296, 471040, 468992, 563712, 495104, 458240, 473600, 457216, 539648, 528896, 461824, 493056, 519680, 526848, 472064, 494592, 457728, 437248, 440832, 502272, 535552, 513024, 472576, 452608, 482304, 535040, 484352, 508928, 456704, 544768, 457216, 484352, 481792, 478208, 482816, 433664, 524800, 481280, 487424, 444928, 506880, 520704, 493056, 471040, 496128, 468480, 516096, 440832, 509440, 478720, 499200, 444416, 517632, 497152, 489984, 471552, 489472, 427520, 507392, 494592, 442880, 513536, 493056, 445440, 450560, 501248, 473600, 452096, 505856, 534016, 523776, 458752, 525824, 522240, 458752, 451072, 523776, 507392, 460288, 530432, 455680, 503808, 479232, 490496, 509952, 473088, 455168, 450048, 495104, 466944, 427520, 447488, 440320, 458752, 507904, 458240, 468480, 544256, 477184, 588288, 459264, 504320, 479232, 247808], total actv size transfer: 52111360
INFO Sun, 26 Feb 2023 14:34:00 dgl_default_sampling_simulate.py 209 : rank=2, total data transfer: 393786688
INFO Sun, 26 Feb 2023 14:34:02 dgl_default_sampling_simulate.py 198 : => cur_epoch 0 finished on rank 3
INFO Sun, 26 Feb 2023 14:34:02 dgl_default_sampling_simulate.py 199 : ==================== | rank=3,epoch=0 采样node信息输出 | ====================
INFO Sun, 26 Feb 2023 14:34:02 dgl_default_sampling_simulate.py 200 : rank=3, number of training batches: 108
INFO Sun, 26 Feb 2023 14:34:02 dgl_default_sampling_simulate.py 201 : rank=3, the number of nodes for each tree spand by batch: [3824, 4094, 3613, 3693, 3974, 4134, 3990, 3477, 3641, 3720, 3739, 3630, 3640, 3297, 3788, 3939, 3320, 3717, 3936, 3926, 3600, 3509, 4169, 3684, 4066, 3562, 4322, 4260, 3930, 3743, 3577, 4116, 3739, 4108, 3599, 3875, 4158, 4358, 3974, 3916, 4167, 3640, 3639, 3579, 3412, 3779, 4014, 4222, 3709, 3734, 3971, 4027, 4092, 4027, 3884, 3662, 4271, 3821, 3138, 3592, 3260, 3872, 3827, 4009, 4032, 4207, 3979, 3628, 4341, 4043, 3642, 4088, 3285, 4371, 3852, 3640, 4009, 3788, 3642, 3710, 3525, 3854, 4141, 3268, 3770, 3497, 3987, 3919, 3528, 3827, 3829, 3808, 3611, 4057, 3856, 3425, 3834, 3705, 4045, 3401, 4211, 3855, 4197, 4101, 3502, 3784, 3990, 1991], total nodes: 411480
INFO Sun, 26 Feb 2023 14:34:02 dgl_default_sampling_simulate.py 202 : rank=3, the number of nodes hits on other trainers: [134778, 99092, 81539, 0]
INFO Sun, 26 Feb 2023 14:34:02 dgl_default_sampling_simulate.py 204 : ==================== | rank=3, total_epoch=1 naive模型迁移方式的数据传输量 | ====================
INFO Sun, 26 Feb 2023 14:34:02 dgl_default_sampling_simulate.py 205 : rank=3, each block model&opt size transfer: [124034976, 124034976], total model&opt size transfer: 248069952
INFO Sun, 26 Feb 2023 14:34:02 dgl_default_sampling_simulate.py 206 : rank=3, each block aggr size transfer: [21217280, 12107264], total aggr size transfer: 33324544
INFO Sun, 26 Feb 2023 14:34:02 dgl_default_sampling_simulate.py 207 : rank=3, each nf comb size transfer: [576512, 618368, 542336, 559488, 598016, 622976, 605312, 526976, 548736, 561536, 564224, 550016, 550528, 499456, 576896, 596096, 502784, 559104, 594304, 594432, 545664, 531328, 631296, 557568, 615680, 540160, 652800, 646016, 597248, 571264, 542976, 620672, 561408, 616448, 542208, 586624, 626560, 660224, 599680, 592000, 623872, 551168, 551040, 536320, 516096, 574592, 603776, 639104, 561408, 570112, 603648, 608384, 618752, 606848, 587136, 557312, 645376, 580352, 478208, 546176, 491008, 586752, 583296, 606720, 610560, 636800, 601984, 551680, 660224, 613504, 553600, 621056, 498688, 656640, 583040, 548224, 607872, 573952, 549248, 564736, 538624, 577536, 631296, 492288, 565632, 526336, 606720, 590080, 531712, 576384, 575744, 574720, 546048, 617216, 578304, 519552, 585728, 556672, 608256, 513408, 633984, 585856, 635648, 622848, 533248, 573056, 604416, 299008], total comb size transfer: 62245504
INFO Sun, 26 Feb 2023 14:34:02 dgl_default_sampling_simulate.py 208 : rank=3, each nf actv size transfer: [479232, 508416, 450560, 478208, 488448, 506368, 509440, 458752, 461824, 472576, 473600, 472576, 469504, 440832, 499200, 498688, 442368, 464384, 493056, 498688, 470528, 459776, 521728, 475136, 512000, 467968, 529408, 534016, 507904, 499712, 471552, 506368, 462336, 493568, 457216, 493568, 508416, 540672, 495104, 494080, 493056, 472064, 472064, 443904, 448512, 494592, 491008, 525824, 477696, 499712, 512512, 502784, 510976, 496640, 491008, 485376, 525824, 496128, 437248, 476672, 425984, 495616, 504832, 505344, 508928, 524288, 501760, 480256, 549376, 515072, 480768, 522240, 443904, 519680, 491008, 460288, 509952, 487424, 463360, 490496, 480768, 467968, 536064, 427008, 463360, 445952, 516608, 484864, 451584, 477184, 473600, 480256, 466432, 522752, 470016, 455680, 510976, 460800, 493056, 443392, 510976, 500736, 524800, 522752, 471040, 485888, 505856, 241152], total actv size transfer: 52393472
INFO Sun, 26 Feb 2023 14:34:02 dgl_default_sampling_simulate.py 209 : rank=3, total data transfer: 396033472
INFO Sun, 26 Feb 2023 14:34:03 dgl_default_sampling_simulate.py 198 : => cur_epoch 0 finished on rank 1
INFO Sun, 26 Feb 2023 14:34:03 dgl_default_sampling_simulate.py 199 : ==================== | rank=1,epoch=0 采样node信息输出 | ====================
INFO Sun, 26 Feb 2023 14:34:03 dgl_default_sampling_simulate.py 200 : rank=1, number of training batches: 108
INFO Sun, 26 Feb 2023 14:34:03 dgl_default_sampling_simulate.py 201 : rank=1, the number of nodes for each tree spand by batch: [3851, 3997, 3714, 3605, 3546, 3710, 3768, 3320, 3389, 3611, 4133, 3824, 3261, 3877, 4541, 4321, 4227, 3619, 4029, 3648, 3743, 3735, 3735, 3693, 3692, 3981, 3466, 3777, 3989, 3439, 3521, 3813, 3541, 3732, 3888, 4009, 3816, 3956, 3858, 3675, 3661, 4022, 3664, 4197, 3226, 4114, 3859, 4079, 3713, 4033, 4101, 3642, 3853, 3626, 3550, 3342, 3743, 3556, 3969, 3973, 3507, 3523, 3434, 3765, 3983, 4118, 3478, 3803, 3906, 4047, 3687, 3943, 4213, 4032, 3523, 3527, 3770, 3824, 3806, 4313, 3985, 3560, 3648, 3958, 3950, 3900, 3626, 3535, 3710, 3856, 3975, 4007, 3481, 3725, 3607, 3366, 3677, 3936, 3645, 3846, 4046, 3721, 3486, 4046, 4239, 3890, 3716, 1667], total nodes: 406979
INFO Sun, 26 Feb 2023 14:34:03 dgl_default_sampling_simulate.py 202 : rank=1, the number of nodes hits on other trainers: [133368, 0, 80564, 94950]
INFO Sun, 26 Feb 2023 14:34:03 dgl_default_sampling_simulate.py 204 : ==================== | rank=1, total_epoch=1 naive模型迁移方式的数据传输量 | ====================
INFO Sun, 26 Feb 2023 14:34:03 dgl_default_sampling_simulate.py 205 : rank=1, each block model&opt size transfer: [124034976, 124034976], total model&opt size transfer: 248069952
INFO Sun, 26 Feb 2023 14:34:03 dgl_default_sampling_simulate.py 206 : rank=1, each block aggr size transfer: [19686656, 11456768], total aggr size transfer: 31143424
INFO Sun, 26 Feb 2023 14:34:03 dgl_default_sampling_simulate.py 207 : rank=1, each nf comb size transfer: [585728, 603264, 557824, 545024, 537856, 560384, 570880, 500992, 511104, 546176, 626304, 581248, 496512, 587008, 688256, 655232, 635392, 545280, 607104, 552832, 571520, 565760, 566016, 559744, 555264, 597760, 525952, 571776, 601472, 519168, 527616, 575616, 533632, 566912, 589952, 609152, 574592, 603264, 580864, 553728, 552704, 606592, 564992, 638080, 490752, 628480, 580864, 622336, 560896, 613632, 617600, 545152, 583680, 547072, 535168, 505216, 565248, 540288, 599424, 595456, 528256, 535936, 520320, 567936, 607872, 622592, 528256, 573824, 590848, 612096, 554368, 595072, 635008, 604800, 530304, 531840, 568064, 577536, 578176, 650496, 606464, 536576, 551552, 597248, 600576, 593280, 553088, 531328, 562560, 587520, 600448, 607616, 531328, 563840, 540672, 507776, 555136, 595712, 554624, 582528, 609920, 557696, 527616, 617344, 638080, 590720, 559232, 250496], total comb size transfer: 61562368
INFO Sun, 26 Feb 2023 14:34:03 dgl_default_sampling_simulate.py 208 : rank=1, each nf actv size transfer: [502272, 497664, 460800, 465408, 466944, 473088, 485376, 435200, 440320, 466944, 520192, 498176, 447488, 494080, 559104, 539648, 508416, 459264, 496640, 474624, 500736, 481792, 482816, 479232, 461824, 483840, 460288, 484352, 494592, 446976, 438784, 481280, 452608, 487936, 500224, 515072, 475648, 518656, 479232, 464384, 467456, 498176, 515072, 534528, 442368, 538624, 478720, 531968, 473600, 520704, 501760, 446976, 493056, 462848, 454144, 440832, 475648, 471552, 496640, 478720, 448512, 471040, 454144, 475136, 523264, 513024, 463360, 479232, 494592, 507392, 460800, 492544, 514048, 485888, 448512, 452608, 473088, 483328, 495104, 524800, 516608, 454656, 469504, 493568, 510976, 507392, 486912, 446464, 481792, 506880, 497664, 509952, 474112, 479232, 446976, 438784, 468992, 498688, 483328, 492032, 499200, 456704, 456704, 528896, 513024, 502272, 465408, 212992], total actv size transfer: 51965440
INFO Sun, 26 Feb 2023 14:34:03 dgl_default_sampling_simulate.py 209 : rank=1, total data transfer: 392741184
INFO Sun, 26 Feb 2023 14:34:08 dgl_default_sampling_simulate.py 198 : => cur_epoch 0 finished on rank 0
INFO Sun, 26 Feb 2023 14:34:08 dgl_default_sampling_simulate.py 199 : ==================== | rank=0,epoch=0 采样node信息输出 | ====================
INFO Sun, 26 Feb 2023 14:34:08 dgl_default_sampling_simulate.py 200 : rank=0, number of training batches: 108
INFO Sun, 26 Feb 2023 14:34:08 dgl_default_sampling_simulate.py 201 : rank=0, the number of nodes for each tree spand by batch: [4033, 4016, 3796, 3913, 3559, 3468, 3673, 3843, 4001, 3850, 3827, 4106, 4092, 4157, 4352, 4282, 3974, 3603, 3816, 4350, 3283, 3876, 3427, 3929, 3985, 3800, 3949, 3977, 3814, 3547, 4449, 3859, 3429, 3457, 3977, 3975, 3884, 3661, 3984, 3912, 4077, 3603, 4008, 3243, 3561, 3243, 3818, 3531, 3666, 3734, 3533, 3751, 4071, 3952, 3607, 4128, 4272, 3826, 3316, 3888, 3637, 4112, 4425, 3755, 3735, 3938, 3564, 3297, 3435, 4177, 3650, 3717, 3841, 3376, 4126, 3459, 3680, 3609, 3747, 3583, 4029, 3801, 4471, 3324, 3771, 3656, 3343, 4257, 3740, 3580, 4221, 3812, 3659, 4126, 3465, 3574, 3746, 4235, 4038, 3556, 4264, 3631, 3944, 4100, 4023, 3957, 3607, 1761], total nodes: 410267
INFO Sun, 26 Feb 2023 14:34:08 dgl_default_sampling_simulate.py 202 : rank=0, the number of nodes hits on other trainers: [0, 97179, 81393, 96853]
INFO Sun, 26 Feb 2023 14:34:08 dgl_default_sampling_simulate.py 204 : ==================== | rank=0, total_epoch=1 naive模型迁移方式的数据传输量 | ====================
INFO Sun, 26 Feb 2023 14:34:08 dgl_default_sampling_simulate.py 205 : rank=0, each block model&opt size transfer: [124034976, 124034976], total model&opt size transfer: 248069952
INFO Sun, 26 Feb 2023 14:34:08 dgl_default_sampling_simulate.py 206 : rank=0, each block aggr size transfer: [20729856, 11259136], total aggr size transfer: 31988992
INFO Sun, 26 Feb 2023 14:34:08 dgl_default_sampling_simulate.py 207 : rank=0, each nf comb size transfer: [606592, 607488, 571008, 588160, 537728, 523520, 558848, 583296, 605184, 579584, 579072, 620800, 620672, 625664, 659456, 648960, 595840, 542336, 578688, 660480, 494464, 583808, 515840, 594176, 603392, 572544, 595584, 602880, 578944, 535552, 670592, 582016, 520448, 526976, 597376, 595968, 582016, 557056, 601472, 594048, 617856, 545152, 609024, 491648, 536448, 489472, 580864, 531072, 557184, 568960, 536320, 565376, 619008, 598528, 548608, 625536, 637824, 576512, 502144, 585344, 553856, 619136, 666368, 569472, 569344, 599808, 539776, 494720, 522112, 634112, 552704, 565376, 582912, 514176, 625152, 524032, 557696, 546304, 569728, 537472, 599936, 571520, 678144, 500096, 570496, 553856, 506624, 646272, 566400, 541184, 634624, 575104, 554624, 625664, 526848, 541696, 568704, 641280, 614528, 539520, 649216, 545280, 594048, 617856, 609536, 600064, 547584, 267008], total comb size transfer: 62053376
INFO Sun, 26 Feb 2023 14:34:08 dgl_default_sampling_simulate.py 208 : rank=0, each nf actv size transfer: [492544, 504832, 471552, 480256, 459776, 449536, 485888, 496640, 503296, 478208, 487936, 512000, 518656, 505344, 540672, 534528, 479744, 455680, 492032, 545792, 428032, 481792, 439808, 496128, 504320, 475648, 491520, 506368, 494080, 457216, 535552, 483328, 457216, 468992, 484352, 479744, 470528, 484864, 497152, 504320, 515072, 466944, 515072, 437248, 453632, 428544, 499712, 447488, 482816, 495104, 467456, 472064, 522752, 501760, 478720, 519680, 495104, 478208, 441856, 481792, 484352, 502272, 530944, 486400, 496128, 514048, 465408, 421888, 460800, 528896, 473088, 489472, 496128, 459264, 519168, 456192, 477696, 468480, 491520, 446464, 467968, 471040, 554496, 429568, 482304, 474624, 445952, 536576, 481792, 462848, 508416, 479744, 476160, 521216, 464384, 467968, 487936, 527872, 521728, 468480, 544768, 453120, 487936, 503296, 509440, 505344, 474624, 230912], total actv size transfer: 52246016
INFO Sun, 26 Feb 2023 14:34:08 dgl_default_sampling_simulate.py 209 : rank=0, total data transfer: 394358336
