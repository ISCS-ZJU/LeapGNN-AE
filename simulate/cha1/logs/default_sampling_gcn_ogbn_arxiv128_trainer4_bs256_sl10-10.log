INFO Sun, 26 Feb 2023 14:19:53 dgl_default_sampling_simulate.py 274 : ngpus_per_trainer: 1
INFO Sun, 26 Feb 2023 14:19:53 dgl_default_sampling_simulate.py 39 : Total number of trainers: 4
INFO Sun, 26 Feb 2023 14:19:53 dgl_default_sampling_simulate.py 55 : Client Args: Namespace(dataset='./dist/repgnn_data/ogbn_arxiv128/', sampling='10-10', hidden_size=256, n_classes=60, batch_size=256, dropout=0.2, lr=0.03, weight_decay=0, model_name='gcn', epoch=1, num_worker=1, cache_size=0, seed=None, log=False, world_size=4, ngpus_per_node=1, featdim=128)
INFO Sun, 26 Feb 2023 14:19:53 dgl_default_sampling_simulate.py 68 : metis分图已经完成
INFO Sun, 26 Feb 2023 14:19:53 dgl_default_sampling_simulate.py 91 : fg_train_nid: 110072 ntrain_per_GPU: 27518
INFO Sun, 26 Feb 2023 14:19:53 dgl_default_sampling_simulate.py 91 : fg_train_nid: 110072 ntrain_per_GPU: 27518
INFO Sun, 26 Feb 2023 14:19:53 dgl_default_sampling_simulate.py 91 : fg_train_nid: 110072 ntrain_per_GPU: 27518
INFO Sun, 26 Feb 2023 14:19:53 dgl_default_sampling_simulate.py 91 : fg_train_nid: 110072 ntrain_per_GPU: 27518
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 198 : => cur_epoch 0 finished on rank 3
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 199 : ==================== | rank=3,epoch=0 采样node信息输出 | ====================
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 200 : rank=3, number of training batches: 108
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 201 : rank=3, the number of nodes for each tree spand by batch: [11380, 9688, 9354, 8136, 9131, 10179, 8843, 10150, 9338, 8763, 10249, 10069, 12069, 9337, 9790, 9542, 7995, 10611, 9078, 9789, 9069, 9559, 9107, 8440, 10157, 10343, 8735, 9753, 9239, 8027, 8208, 8856, 9591, 9439, 10367, 8673, 11367, 10731, 11443, 9929, 10412, 11712, 10261, 9545, 7944, 12320, 7836, 10004, 9674, 12670, 9424, 10051, 10284, 9725, 9421, 11329, 9115, 9611, 10231, 10360, 9333, 9907, 9709, 9691, 9509, 8155, 10132, 9686, 10080, 9892, 11567, 9869, 8979, 9092, 9412, 8742, 9859, 10056, 9574, 11463, 10179, 9786, 9448, 10532, 8922, 11182, 10478, 11218, 8837, 9198, 8591, 7290, 9087, 8903, 8867, 10369, 9628, 8238, 8875, 11923, 11278, 9150, 11017, 10297, 8832, 9317, 10564, 5140], total nodes: 1048306
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 202 : rank=3, the number of nodes hits on other trainers: [377147, 253693, 180757, 0]
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 204 : ==================== | rank=3, total_epoch=1 naive模型迁移方式的数据传输量 | ====================
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 205 : rank=3, each block model&opt size transfer: [111037392, 111037392, 111037392], total model&opt size transfer: 333112176
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 206 : rank=3, each block aggr size transfer: [55147008, 42653440, 11559680], total aggr size transfer: 109360128
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 207 : rank=3, each nf comb size transfer: [4409344, 3789312, 3590656, 3205632, 3545856, 3925248, 3476224, 3931648, 3613184, 3328768, 3912960, 3900160, 4644608, 3610880, 3758080, 3640832, 3111680, 4086528, 3497472, 3758848, 3502336, 3733760, 3562752, 3299840, 3912448, 4009216, 3355392, 3737344, 3610368, 3107584, 3162624, 3394560, 3680512, 3651840, 4041472, 3333376, 4448000, 4147968, 4402432, 3885312, 4048896, 4516864, 3979520, 3688192, 3081216, 4710912, 3017216, 3878400, 3775488, 4902912, 3638272, 3890944, 3927040, 3758336, 3670784, 4354816, 3540224, 3720448, 3918592, 4003840, 3582208, 3852032, 3786496, 3705600, 3670784, 3187968, 3939840, 3744768, 3908608, 3833344, 4466944, 3840768, 3533056, 3548672, 3662848, 3371008, 3757824, 3894784, 3727360, 4420864, 3958528, 3784704, 3676672, 4085760, 3469824, 4328960, 4005376, 4298240, 3394816, 3555840, 3288832, 2820608, 3504384, 3411200, 3485440, 3993856, 3781632, 3179520, 3453184, 4633344, 4320256, 3535872, 4223232, 4038912, 3402240, 3567360, 4129792, 1951744], total comb size transfer: 405455872
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 208 : rank=3, each nf actv size transfer: [1823744, 1619200, 1490944, 1427712, 1514240, 1621760, 1523712, 1657344, 1518080, 1375744, 1586944, 1634816, 1889280, 1506560, 1551360, 1489920, 1362688, 1688064, 1472768, 1567744, 1484544, 1593344, 1536768, 1445120, 1628416, 1685248, 1416704, 1538304, 1557504, 1339904, 1354752, 1420800, 1537792, 1535744, 1721344, 1390336, 1888000, 1714176, 1805568, 1671168, 1709056, 1858304, 1672960, 1541376, 1335040, 1890048, 1294592, 1633536, 1622016, 2001920, 1525504, 1635328, 1612800, 1569280, 1567232, 1775104, 1502464, 1566976, 1612544, 1672192, 1487616, 1632768, 1618944, 1528320, 1548032, 1402880, 1669888, 1579776, 1643008, 1618688, 1830656, 1627136, 1546240, 1530368, 1556480, 1417728, 1536512, 1635328, 1580288, 1814272, 1669888, 1580288, 1569536, 1710848, 1480704, 1794304, 1620992, 1748480, 1425152, 1491968, 1379072, 1226752, 1467136, 1419520, 1531904, 1657088, 1642752, 1355776, 1478400, 1913344, 1757696, 1497344, 1720064, 1733888, 1449728, 1480192, 1762816, 781824], total actv size transfer: 170338816
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 209 : rank=3, total data transfer: 1018266992
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 198 : => cur_epoch 0 finished on rank 0
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 199 : ==================== | rank=0,epoch=0 采样node信息输出 | ====================
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 200 : rank=0, number of training batches: 108
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 201 : rank=0, the number of nodes for each tree spand by batch: [9889, 10501, 10006, 10162, 10749, 9328, 10271, 9050, 10052, 9687, 11282, 9710, 10317, 9816, 9171, 8280, 9438, 11486, 7802, 8698, 10475, 9448, 9627, 8985, 7776, 9947, 10213, 9171, 11737, 9640, 10637, 10276, 10615, 8386, 10404, 10224, 9688, 9681, 10298, 10374, 10128, 8546, 8952, 9084, 9380, 10789, 9361, 9413, 9498, 8780, 10710, 9128, 7307, 10569, 8994, 10784, 9563, 9582, 10144, 8364, 10856, 9924, 9206, 8521, 10726, 8881, 10850, 8718, 8716, 8987, 10895, 10432, 8266, 8757, 9349, 10030, 7485, 10166, 10424, 9581, 11163, 7969, 9392, 9815, 10249, 9072, 8849, 10369, 11266, 11293, 10225, 10385, 9399, 10499, 10488, 9046, 10203, 8299, 8156, 8932, 8967, 8464, 7844, 10947, 10406, 9543, 10048, 5445], total nodes: 1039876
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 202 : rank=0, the number of nodes hits on other trainers: [0, 246122, 179430, 237504]
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 204 : ==================== | rank=0, total_epoch=1 naive模型迁移方式的数据传输量 | ====================
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 205 : rank=0, each block model&opt size transfer: [111037392, 111037392, 111037392], total model&opt size transfer: 333112176
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 206 : rank=0, each block aggr size transfer: [60940160, 40111872, 11735296], total aggr size transfer: 112787328
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 207 : rank=0, each nf comb size transfer: [3798784, 4026624, 3867648, 3910656, 4130048, 3607552, 3959040, 3522048, 3861504, 3729664, 4349952, 3752448, 3988736, 3770368, 3538688, 3203584, 3689472, 4469248, 3016192, 3430912, 4011264, 3608576, 3749632, 3488000, 3037696, 3810560, 3937536, 3563776, 4505344, 3752960, 4077824, 3974656, 4164864, 3272192, 4006400, 3932160, 3783168, 3768064, 3934720, 3980288, 3900928, 3334144, 3464704, 3478528, 3609088, 4150528, 3620096, 3655424, 3696640, 3383296, 4102144, 3554816, 2831104, 4031744, 3473920, 4174848, 3674368, 3706368, 3901440, 3255296, 4234752, 3925504, 3525120, 3349760, 4139520, 3428096, 4148224, 3405824, 3395584, 3526912, 4207360, 4039680, 3267584, 3411200, 3577088, 3894784, 2922240, 3953664, 3987968, 3690240, 4296960, 3074304, 3606016, 3779840, 3904256, 3527680, 3517696, 4074240, 4397568, 4306688, 3939072, 4054272, 3625216, 4036864, 4066816, 3467776, 3976448, 3228928, 3163648, 3520512, 3502848, 3299328, 3099136, 4193536, 4062720, 3684608, 3861504, 2090752], total comb size transfer: 402372608
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 208 : rank=0, each nf actv size transfer: [1572864, 1648896, 1622784, 1611264, 1701888, 1518336, 1646080, 1508096, 1596672, 1556224, 1793280, 1572096, 1669632, 1564160, 1482240, 1366272, 1585408, 1865728, 1299712, 1511168, 1640704, 1479168, 1590528, 1495552, 1348352, 1564160, 1622784, 1522688, 1829120, 1603328, 1677824, 1659648, 1774848, 1425920, 1661440, 1627648, 1628416, 1600000, 1600768, 1641216, 1609472, 1442048, 1468928, 1430528, 1513216, 1721344, 1533696, 1564160, 1575936, 1426432, 1666048, 1527808, 1237504, 1636864, 1464832, 1737472, 1533952, 1561600, 1619712, 1402624, 1795584, 1723136, 1469696, 1482496, 1719808, 1441280, 1686016, 1485824, 1468672, 1537792, 1733888, 1688064, 1447936, 1470976, 1473280, 1642752, 1295360, 1670656, 1623296, 1530112, 1753344, 1319168, 1493248, 1571072, 1583872, 1513472, 1561856, 1747712, 1853952, 1727232, 1625600, 1723392, 1528064, 1665024, 1702912, 1441536, 1687296, 1396224, 1364736, 1545216, 1517824, 1428736, 1394176, 1703936, 1737472, 1541888, 1591296, 855296], total actv size transfer: 169323264
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 209 : rank=0, total data transfer: 1017595376
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 198 : => cur_epoch 0 finished on rank 1
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 199 : ==================== | rank=1,epoch=0 采样node信息输出 | ====================
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 200 : rank=1, number of training batches: 108
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 201 : rank=1, the number of nodes for each tree spand by batch: [9295, 10714, 8887, 8370, 10111, 9453, 10756, 10246, 10251, 9080, 8739, 9132, 8832, 9514, 8330, 11065, 8453, 10402, 10885, 9812, 9235, 10489, 9314, 10158, 9523, 9415, 10904, 10458, 8718, 10695, 10488, 10231, 9498, 7802, 9390, 8272, 9991, 9406, 10416, 10666, 8816, 9394, 8746, 8882, 8262, 8421, 10161, 9322, 9200, 9264, 10434, 8705, 10988, 9153, 9396, 8763, 8925, 9099, 9437, 9845, 10276, 9855, 10117, 9021, 9468, 10967, 9807, 9636, 11090, 10275, 9389, 10003, 8208, 9347, 9732, 9723, 8696, 8439, 8832, 8792, 10567, 9321, 10440, 10826, 9832, 8374, 10124, 9715, 10367, 9113, 10234, 10359, 9835, 9247, 10489, 9340, 9814, 9311, 10732, 9845, 10261, 9229, 7822, 9308, 9699, 8626, 11401, 5581], total nodes: 1034094
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 202 : rank=1, the number of nodes hits on other trainers: [372651, 0, 176595, 234633]
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 204 : ==================== | rank=1, total_epoch=1 naive模型迁移方式的数据传输量 | ====================
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 205 : rank=1, each block model&opt size transfer: [111037392, 111037392, 111037392], total model&opt size transfer: 333112176
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 206 : rank=1, each block aggr size transfer: [55500160, 41061632, 11358976], total aggr size transfer: 107920768
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 207 : rank=1, each nf comb size transfer: [3630848, 4112384, 3444992, 3257344, 3932416, 3677440, 4177408, 3981824, 3971328, 3505664, 3396864, 3579392, 3447808, 3697152, 3186688, 4197632, 3292928, 3997696, 4163328, 3753984, 3613952, 4036352, 3659776, 3967488, 3670272, 3660032, 4240384, 4049408, 3393536, 4132608, 4128256, 3920128, 3681280, 3014144, 3667968, 3229696, 3826432, 3640320, 4022272, 4153344, 3465216, 3629056, 3397120, 3454464, 3210752, 3288320, 3924736, 3639808, 3553280, 3551232, 4007424, 3382528, 4228608, 3541760, 3631104, 3382528, 3477760, 3528448, 3654912, 3799296, 3954176, 3803904, 3918080, 3492608, 3658240, 4254464, 3800832, 3734016, 4299264, 3975424, 3637504, 3873024, 3143680, 3640576, 3727360, 3749632, 3363840, 3300608, 3446272, 3414528, 4113664, 3629312, 4068352, 4140544, 3835904, 3239424, 3897856, 3767040, 3965184, 3560704, 3965952, 3971840, 3799296, 3573504, 4077824, 3627520, 3768832, 3607808, 4131840, 3788032, 3946752, 3495168, 3013632, 3608064, 3750656, 3304448, 4403968, 2127616], total comb size transfer: 400229888
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 208 : rank=1, each nf actv size transfer: [1571328, 1693696, 1465600, 1410304, 1664768, 1568256, 1750272, 1674752, 1663488, 1471744, 1463296, 1554688, 1492224, 1568768, 1336576, 1668096, 1421824, 1657088, 1699328, 1546496, 1556480, 1660160, 1576448, 1689088, 1529600, 1566208, 1781248, 1694976, 1464064, 1710080, 1783040, 1605376, 1564672, 1293056, 1580032, 1410816, 1568768, 1532672, 1675776, 1746176, 1523200, 1540864, 1457664, 1465600, 1393152, 1431040, 1629696, 1563648, 1509376, 1477632, 1651968, 1447936, 1737472, 1505280, 1526784, 1432320, 1479168, 1495296, 1543424, 1575936, 1623808, 1603072, 1634560, 1485568, 1542400, 1762304, 1601536, 1569024, 1788928, 1668608, 1544192, 1616896, 1326080, 1552384, 1525248, 1570816, 1433600, 1436928, 1493248, 1463040, 1725952, 1547520, 1720832, 1678336, 1638400, 1386752, 1603840, 1588480, 1629440, 1539328, 1662208, 1618176, 1578752, 1512704, 1717248, 1544704, 1568512, 1521664, 1705728, 1575424, 1629440, 1424128, 1294080, 1527808, 1576448, 1381888, 1801472, 856320], total actv size transfer: 168516608
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 209 : rank=1, total data transfer: 1009779440
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 198 : => cur_epoch 0 finished on rank 2
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 199 : ==================== | rank=2,epoch=0 采样node信息输出 | ====================
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 200 : rank=2, number of training batches: 108
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 201 : rank=2, the number of nodes for each tree spand by batch: [7314, 9693, 8540, 9712, 10888, 11238, 8496, 10338, 9696, 10147, 9053, 9410, 9337, 10706, 9167, 8595, 9968, 9987, 10269, 9329, 9660, 10382, 9900, 10462, 9630, 10593, 8366, 8756, 9873, 10028, 10480, 10773, 8977, 9361, 8768, 10190, 9590, 9101, 10000, 8843, 10842, 8748, 8549, 9335, 11527, 8876, 10411, 9129, 9471, 10120, 9021, 10169, 10222, 8799, 10615, 9313, 10064, 9858, 12058, 8016, 10118, 8500, 11567, 9186, 10092, 9154, 8520, 8654, 9731, 10062, 9830, 10383, 8999, 10643, 9565, 8989, 9548, 10048, 9111, 8923, 10557, 8645, 8500, 11066, 8570, 9751, 9190, 9441, 10487, 9560, 8914, 9376, 8258, 9131, 9917, 8969, 10314, 9087, 9460, 8889, 9861, 10135, 9119, 8905, 9284, 9108, 10309, 6033], total nodes: 1033218
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 202 : rank=2, the number of nodes hits on other trainers: [379751, 248202, 0, 228217]
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 204 : ==================== | rank=2, total_epoch=1 naive模型迁移方式的数据传输量 | ====================
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 205 : rank=2, each block model&opt size transfer: [111037392, 111037392, 111037392], total model&opt size transfer: 333112176
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 206 : rank=2, each block aggr size transfer: [58519808, 41850624, 11062016], total aggr size transfer: 111432448
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 207 : rank=2, each nf comb size transfer: [2864640, 3752192, 3323392, 3745280, 4254720, 4362752, 3269632, 3983360, 3771904, 3908864, 3537664, 3650560, 3591424, 4131840, 3563264, 3339008, 3890176, 3897088, 3964672, 3599104, 3771392, 4001280, 3783680, 3998720, 3736064, 4066048, 3215872, 3379712, 3808000, 3897344, 4059136, 4203776, 3496704, 3659520, 3385856, 3918848, 3701760, 3509504, 3835904, 3396864, 4210688, 3421184, 3353344, 3655424, 4444416, 3446272, 4101376, 3505920, 3649280, 3949568, 3503872, 3924224, 3982336, 3434240, 4128000, 3653376, 3893248, 3802624, 4638208, 3096576, 3926528, 3307008, 4478208, 3580928, 3916288, 3563008, 3268096, 3318272, 3748096, 3894272, 3788800, 3996416, 3519744, 4135168, 3725056, 3464960, 3665408, 3898368, 3515136, 3442944, 4122368, 3346176, 3323392, 4260352, 3316736, 3752192, 3514368, 3644160, 4006144, 3682304, 3498496, 3602432, 3191296, 3558656, 3869952, 3486464, 4020736, 3566848, 3648512, 3443456, 3827456, 3950336, 3584768, 3438336, 3570176, 3491328, 4004608, 2316544], total comb size transfer: 400212992
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 208 : rank=2, each nf actv size transfer: [1281024, 1586176, 1433856, 1556736, 1800960, 1828352, 1382144, 1655040, 1596416, 1629184, 1533696, 1542400, 1499392, 1709824, 1525504, 1426688, 1659136, 1659904, 1647872, 1508864, 1610496, 1640192, 1550080, 1633024, 1582080, 1656320, 1352960, 1425408, 1593600, 1642240, 1689856, 1779200, 1502976, 1573376, 1441792, 1612800, 1545984, 1478656, 1571584, 1420544, 1765120, 1499136, 1464832, 1584384, 1816064, 1477376, 1778688, 1458176, 1529088, 1682176, 1497088, 1639168, 1677312, 1476608, 1735168, 1590016, 1626368, 1585920, 1882112, 1330944, 1656320, 1434624, 1853696, 1537792, 1645568, 1530624, 1372160, 1405184, 1563648, 1637376, 1582080, 1653248, 1522176, 1730816, 1587968, 1462272, 1514496, 1645568, 1469440, 1450496, 1749504, 1430528, 1453568, 1745408, 1418496, 1567744, 1453824, 1520128, 1628160, 1537792, 1521920, 1495296, 1363200, 1528320, 1653248, 1485056, 1705472, 1550336, 1534208, 1478400, 1607424, 1676032, 1571584, 1454592, 1489152, 1450240, 1677824, 937984], total actv size transfer: 168803072
INFO Sun, 26 Feb 2023 14:19:58 dgl_default_sampling_simulate.py 209 : rank=2, total data transfer: 1013560688
